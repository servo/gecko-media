[package]
name = "gecko-media"
version = "0.1.0"
authors = ["Chris Pearce <cpearce@mozilla.com>", "Philippe Normand <philn@igalia.com>"]
build = "build.rs"

[build]
rustflags = ["-C link-arg=-fno-exceptions"]

# FIXME: Switch to target dependencies when https://github.com/rust-lang/cargo/issues/3512 is fixed.
#[target.'cfg(unix)'.dependencies]
[dependencies]
cubeb-pulse = { git = "https://github.com/djg/cubeb-pulse-rs", branch = "upstream-pa-sink-flag-fix", optional = true, features = ["pulse-dlopen"]}


[build-dependencies]
gcc = "0.3.53"

[features]
default = ["pulseaudio", "audio-sample-type-f32"]
audio-sample-type-s16 = []
audio-sample-type-f32 = []
alsa = []
pulseaudio = ["cubeb-pulse"]
jack = []
widget-toolkit-cocoa = []
